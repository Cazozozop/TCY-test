<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Test d'Admission au TCY</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #0f0f0f;
      color: white;
      padding: 20px;
      text-align: center;
    }
    .question {
      margin: 20px auto;
      padding: 20px;
      background: #1c1c1c;
      border-radius: 10px;
      width: 80%;
    }
    .question h3 {
      margin-bottom: 10px;
    }
    button {
      background: #d4002a;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin: 10px;
    }
    button:hover {
      background: #ff0033;
    }
    #score {
      font-size: 1.5em;
      margin-top: 30px;
    }
  </style>
</head>
<body>

  <h1>Test d'Admission au TCY</h1>
  <div id="quiz-container"></div>
  <div id="score"></div>
  <button onclick="startQuiz()">Recommencer</button>

  <script>
    const allQuestions = [
      { q: "Es-tu prêt à défendre le TCY contre toutes les menaces ?", answers: [
          { text: "Oui, à tout prix", score: 10 },
          { text: "Oui, mais avec des réserves", score: 7 },
          { text: "Non, je préfère éviter les conflits", score: 2 },
          { text: "Je ne sais pas, je vais réfléchir", score: 0 }
        ]},
      { q: "Serais-tu prêt à sacrifier quelque chose de précieux pour le TCY ?", answers: [
          { text: "Oui, si c’est pour la cause", score: 10 },
          { text: "Peut-être, cela dépend de la situation", score: 6 },
          { text: "Non, je ne suis pas prêt à sacrifier quoi que ce soit", score: 0 },
          { text: "Je pense qu’il y a d'autres alternatives", score: 4 }
        ]},
      { q: "Crois-tu que les Yags sont une menace sérieuse pour la communauté ?", answers: [
          { text: "Oui, ils sont une menace directe", score: 10 },
          { text: "Oui, mais ils peuvent être gérés", score: 7 },
          { text: "Non, ce n'est pas une menace majeure", score: 2 },
          { text: "Je ne sais pas, j’ai besoin de plus d’informations", score: 0 }
        ]},
      { q: "Es-tu capable de prendre des décisions difficiles pour le bien de la cause ?", answers: [
          { text: "Oui, je peux faire face aux situations difficiles", score: 10 },
          { text: "Parfois, si je suis bien préparé", score: 7 },
          { text: "Cela dépend de la situation", score: 4 },
          { text: "Je préfère éviter les décisions difficiles", score: 0 }
        ]},
      { q: "Crois-tu en l'importance de la solidarité au sein du TCY ?", answers: [
          { text: "Oui, c'est essentiel pour la survie du groupe", score: 10 },
          { text: "Oui, mais il faut parfois agir seul", score: 6 },
          { text: "Non, je pense qu'il faut d'abord se concentrer sur soi-même", score: 2 },
          { text: "Je n'y ai jamais vraiment pensé", score: 0 }
        ]},
      { q: "Veux-tu t'engager à combattre les Yags à chaque occasion ?", answers: [
          { text: "Oui, c'est ma priorité", score: 10 },
          { text: "Oui, mais dans des situations appropriées", score: 7 },
          { text: "Non, je préfère éviter les confrontations", score: 3 },
          { text: "Je ne sais pas, je vais observer", score: 0 }
        ]},
      { q: "Seras-tu un membre loyal et fidèle au TCY en toutes circonstances ?", answers: [
          { text: "Oui, je suis dévoué à 100%", score: 10 },
          { text: "Oui, mais je pourrais avoir des doutes parfois", score: 6 },
          { text: "Non, je préfère rester indépendant", score: 2 },
          { text: "Je ne suis pas sûr, mais je veux essayer", score: 4 }
        ]},
      { q: "Est-ce que tu accepterais de sacrifier une partie de ta liberté pour le TCY ?", answers: [
          { text: "Oui, pour la bonne cause", score: 10 },
          { text: "Peut-être, selon les circonstances", score: 7 },
          { text: "Non, je tiens trop à ma liberté", score: 2 },
          { text: "Je ne sais pas, je vais réfléchir", score: 0 }
        ]},
      { q: "Penses-tu que l'unité est plus importante que les différences individuelles ?", answers: [
          { text: "Oui, l'unité est essentielle", score: 10 },
          { text: "Parfois, mais je pense qu’il faut aussi respecter les différences", score: 7 },
          { text: "Non, je crois qu’il faut privilégier les individus", score: 2 },
          { text: "Je ne sais pas, c'est complexe", score: 0 }
        ]},
      { q: "Es-tu prêt à prendre les armes pour défendre le TCY si nécessaire ?", answers: [
          { text: "Oui, à 100%", score: 10 },
          { text: "Peut-être, mais je préférerais éviter la violence", score: 6 },
          { text: "Non, je ne suis pas prêt à cela", score: 0 },
          { text: "Je ne sais pas, ça dépend de la situation", score: 4 }
        ]},
      // ...ajouter d'autres questions ici
    ];

    let currentQuestions = [];
    let score = 0;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function startQuiz() {
      // Mélange les questions et sélectionne les 10 premières
      currentQuestions = shuffle(allQuestions).slice(0, 10);
      score = 0;
      displayQuestion(0);
    }

    function displayQuestion(index) {
      const container = document.getElementById("quiz-container");
      container.innerHTML = "";

      if (index < currentQuestions.length) {
        const questionData = currentQuestions[index];
        const questionElement = document.createElement("div");
        questionElement.classList.add("question");
        questionElement.innerHTML = `
          <h3>${questionData.q}</h3>
          ${questionData.answers.map((answer, i) => `
            <button onclick="answerQuestion(${i}, ${index})">${answer.text}</button>
          `).join('')}
        `;
        container.appendChild(questionElement);
      } else {
        showScore();
      }
    }

    function answerQuestion(answerIndex, questionIndex) {
      score += currentQuestions[questionIndex].answers[answerIndex].score;
      displayQuestion(questionIndex + 1);
    }

    function showScore() {
      const container = document.getElementById("score");
      let percentage = (score / (10 * 10)) * 100; // Score max: 10 réponses * 10 points max par réponse
      container.innerHTML = `Votre score est : ${percentage}%`;

      let level = '';
      if (percentage >= 80) {
        level = 'Agent Elite du TCY';
      } else if (percentage >= 60) {
        level = 'Agent du TCY';
      } else if (percentage >= 40) {
        level = 'Novice du TCY';
      } else {
        level = 'Non admis au TCY';
      }

      container.innerHTML += `<br>Vous êtes : ${level}`;
    }
  </script>

</body>
</html>
